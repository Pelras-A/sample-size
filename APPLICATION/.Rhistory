listrand <- blockrand(n=Npat, num.levels = 2, levels = c("A","B"), block.sizes = c(1,2),
stratum = paste0("Centre",i))
if (i > 1) {
mylist <- rbind(mylist, listrand)
}
else {
mylist <- listrand
}
}
#****************
View(mylist)
Npat <- 114 # nombre de patients attendus par strate
for (i in 1:9) {
listrand <- blockrand(n=Npat, num.levels = 2, levels = c("A","B"), block.sizes = c(1,2),
stratum = paste0(i))
if (i > 1) {
mylist <- rbind(mylist, listrand)
}
else {
mylist <- listrand
}
}
myseed ## 9187
set.seed(myseed)
##### 2.2. Exemple 2-stratification sur le centre (20 centres) *****************
Npat <- 114 # nombre de patients attendus par strate
for (i in 1:9) {
listrand <- blockrand(n=Npat, num.levels = 2, levels = c("A","B"), block.sizes = c(1,2),
stratum = paste0(i))
if (i > 1) {
mylist <- rbind(mylist, listrand)
}
else {
mylist <- listrand
}
}
#******************************************************************************#
setwd("J:/4-Méthodologiste/Antoine/Randomisation")
## Enregistrement au format csv :
write.csv2(mylist,
paste0("Liste_randomisation_CRYOSTROKE.csv"))
Npat <- 114 # nombre de patients attendus par strate
for (i in 1:9) {
listrand <- blockrand(n=Npat, num.levels = 2, levels = c("A","B"), block.sizes = c(1,2),
stratum = paste0(i))
if (i > 1) {
mylist <- rbind(mylist, listrand)
}
else {
mylist <- listrand
}
}
#******************************************************
## Enregistrement au format csv :
write.csv2(mylist,
paste0("Liste_randomisation_CRYOSTROKE_draft.csv"))
mylist1 <- blockrand(n=200,                    # nombre de patients attendus
num.levels = 2,            # nombre de bras
levels = c("A","B","C"),       # libellé des bras
block.sizes = c(1,2),    # paramétrage des blocs
stratum = "1")        # libellé de la strate
table(mylist1$treatment) # pour vérifier l'équilibre entre les bras
## Strate n°2 : les femmes
mylist2 <- blockrand(n=200,                    # nombre de patients attendus
num.levels = 2,            # nombre de bras
levels = c("A","B","C"),       # libellé des bras
block.sizes = c(1,2),    # paramétrage des blocs
stratum = "2")        # libellé de la strate
table(mylist2$treatment) # pour vérifier l'équilibre entre les bras
mylist3 <- blockrand(n=100,                    # nombre de patients attendus
num.levels = 2,            # nombre de bras
levels = c("A","B","C"),       # libellé des bras
block.sizes = c(1,2),    # paramétrage des blocs
stratum = "3")        # libellé de la strate
table(mylist3$treatment) # pour vérifier l'équilibre entre les bras
mylist <- rbind(mylist1, mylist2, mylist3) # réunion des listes
##*****************************************************************************#
mylist[mylist$treatment=="C","treatment"] <- "A"
table(mylist$treatment)
## Enregistrement au format csv :
pathLISTERANDO <- "//SRVDATA/PLATEFORME-METHODO-BIOSTATS/4-Méthodologiste/3_Autres/Listes randomisation"
write.csv2(mylist,
paste0("Liste_randomisation_VISIODYS-PED_draft.csv"))
write.csv2(mylist,
paste0("Liste_randomisation_VISIODYS-PED_draft.csv"))
shiny::runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
yoyo=2
if(yoyo==1){
p("coco")
}
if(yoyo==2){
p("ok")
}
else{
p("tt")
}
if(yoyo==1){
p("coco")
}
for(i in 1:5){
if(yoyo==1){
p("coco")
}
if(yoyo==2){
p("ok")
}
else{
p("tt")
}
}
yoyo=2
for(i in 1:5){
if(yoyo==1){
p("coco")
}
if(yoyo==2){
p("ok")
}
else{
p("tt")
}
}
for(i in 1:5){
if(yoyo==1){
print("coco")
}
if(yoyo==2){
print("ok")
}
else{
print("tt")
}
}
yoyo=1
for(i in 1:5){
if(yoyo==1){
print("coco")
}
if(yoyo==2){
print("ok")
}
else{
print("tt")
}
}
for(i in 1:5){
if(yoyo==1){
print("coco")
}
if(yoyo==2){
print("ok")
}
else{
print("tt")
}
}
for(i in 1:5){
if(yoyo==1){
print("coco")
}else{
if(yoyo==2){
print("ok")
}
if{
print("tt")
}
}
}
for(i in 1:5){
if(yoyo==1){
print("coco")
}else{
if(yoyo==2){
print("ok")
}
if{
print("tt")
}
}
}
for(i in 1:5){
if(yoyo==1){
print("coco")
}else{
if(yoyo==2){
print("ok")
}
if{
print("tt")
}
}
}
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
runApp('test')
yoyo=1
baba=6
for(i in 1:5){
if(yoyo==1){
if(baba==6){
print("1")
}if(baba!=6){
print("2")
}
}
if(yoyo==2){
if(baba==6){
print("3")
}if(baba!=6){
print("4")
}
}
}
for(i in 1:5){
if(yoyo==1){
if(baba==6){
print("1")
}if(baba!=6){
print("2")
}
}
if(yoyo==2){
if(baba==6){
print("3")
}if(baba!=6){
print("4")
}
}
}
yoyo=1
baba=6
for(i in 1:5){
if(yoyo==1){
if(baba==6){
print("1")
}if(baba!=6){
print("2")
}
}
if(yoyo==2){
if(baba==6){
print("3")
}if(baba!=6){
print("4")
}
}
}
runApp('test')
runApp('test')
runApp('test')
runApp('test')
yoyo=1
baba=6
for(i in 1:5){
if(yoyo==1){
if(baba==6){
print("1")
}else if(baba!=6){
print("2")
}
}else if(yoyo==2){
if(baba==6){
print("3")
}else if(baba!=6){
print("4")
}
}
}
yoyo=2
baba=6
for(i in 1:5){
if(yoyo==1){
if(baba==6){
print("1")
}else if(baba!=6){
print("2")
}
}else if(yoyo==2){
if(baba==6){
print("3")
}else if(baba!=6){
print("4")
}
}
}
yoyo=2
baba=10
for(i in 1:5){
if(yoyo==1){
if(baba==6){
print("1")
}else if(baba!=6){
print("2")
}
}else if(yoyo==2){
if(baba==6){
print("3")
}else if(baba!=6){
print("4")
}
}
}
runApp('test')
187.6/6
31*6
4*6
shiny::runApp('test2')
runApp('test2')
runApp('test2')
runApp()
runApp('test2')
runApp('test')
runApp('test')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
SW
SW <- function(ni, center, sequence, icc){
aa <- -2*center*(sequence - 1/sequence)*icc*(1+sequence/2)
bb <- 3*ni*(1-icc)*icc*(1+sequence) - 2*center*(sequence -1/sequence)*(1-icc)
cc <- 3*ni*(1-icc)*(1-icc)
m1 <- (-bb + sqrt(bb^2 - 4*aa*cc)) / (2*aa)
m2 <- (-bb - sqrt(bb^2 - 4*aa*cc)) / (2*aa)
m_sol <- max(m1,m2)
Npat_center <- m_sol*(sequence+1)
N_tot_SW <- Npat_center*center
2*ceiling(N_tot_SW /2)
}
SW
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
library(shiny); runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
library(shiny); runApp('app_SampleSize.R')
200/6
shiny::runApp('test2')
runApp('test2')
runApp('test2')
runApp('test2')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/app_SampleSize.R')
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/app_SampleSize.R')
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/app_SampleSize.R')
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/app_SampleSize.R')
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/app_SampleSize.R')
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/app_SampleSize.R')
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/app_SampleSize.R')
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/app_SampleSize.R')
rclipboardSetup()
library(rclipboard)
install.packages("library(rclipboard)")
install.packages("rclipboard")
library(rclipboard)
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/testbutton')
install.packages("shinyCopy2clipboard")
library(shinyCopy2clipboard)
install.packages("shinyCopy2clipboard")
remotes::install_github("deepanshu88/shinyCopy2clipboard")
remotes::install_github("deepanshu88/shinyCopy2clipboard")
install_github("deepanshu88/shinyCopy2clipboard")
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/testbutton')
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/testbutton')
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/testbutton')
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/testbutton')
# UI
ui = fluidPage(
tags$script("
Shiny.addCustomMessageHandler('txt', function (txt) {
navigator.clipboard.writeText(txt);
});
"), # this is new
actionButton("copy_link", "Copy to clipboard"),
# URL input
textInput("url", label = "Paste your URL", value = "https://google.com"),
textInput("utm_source", label = "UTM source", value = "newsletter"),
textInput("paste_here", label = "Check copy/paste worked here"), # added for testing
# URL + UTM output
verbatimTextOutput("url")
)
# Server
server = function(input, output, session) {
observeEvent(input$copy_link, {
text <- paste0(input$url, "?", "utm_source=", input$utm_source)
session$sendCustomMessage("txt", text)
})
}
# Run App
shinyApp(ui = ui, server = server)
library(shiny)
library(shinydashboard)
library(epiR)
library(shinythemes)
library(shinyjs)
library(drcarlate)
library(rpact)
library(shinycssloaders)
library(shinyjs)
library(rclipboard)
runApp('testbutton')
runApp('J:/4-Méthodologiste/Antoine/GITHUB/sample-size/APPLICATION/app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('testbutton')
runApp('testbutton')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('testbutton')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('testbutton')
runApp('testbutton')
runApp('testbutton')
runApp('testbutton')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('testbutton')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
runApp('app_SampleSize.R')
